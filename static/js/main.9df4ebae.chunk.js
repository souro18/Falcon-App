(this["webpackJsonpfalcon-app"]=this["webpackJsonpfalcon-app"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){e.exports=n(26)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(3),r=n.n(l),o=(n(18),n(19),n(2)),i=n(10),u=n.n(i),s=n(12),m=n(1),f=n(4),d=n.n(f),h=(n(21),n(22),function(e){return c.a.createElement("div",{className:"vehicles form-group"},e.vehicle.map((function(t){return c.a.createElement("div",{className:"vehicle",key:t.name,"data-testid":"vehicle"},c.a.createElement("input",{type:"radio",value:t.name,name:"vehicle"+e.id,key:e.name,disabled:0===t.total_no||0===e.distance||e.distance>t.max_distance,onClick:function(t){return e.onInput(t.target.value)}}),c.a.createElement("label",null,c.a.createElement("span",null,t.name),c.a.createElement("br",null),c.a.createElement("span",null,"No. of vehicle: ",t.total_no),c.a.createElement("br",null),c.a.createElement("span",null,"Max Distance: ",t.max_distance)))})))}),p=Object(a.forwardRef)((function(e,t){var n=Object(a.useRef)(null);return Object(a.useImperativeHandle)(t,(function(){return{load:function(){n.current.focus(),n.current.value="default"}}})),c.a.createElement("div",{className:"planets form-group"},c.a.createElement("select",{onChange:function(t){return e.onInput(t.target.value)},defaultValue:"default",ref:n},c.a.createElement("option",{disabled:!0,value:"default"},"Planets"),e.planet.map((function(e){return c.a.createElement("option",{value:e.name,key:e.name,"data-testid":"planets"},e.name," ",e.distance)}))))})),E=n(5),b=n(6),v=n(8),j=n(7),O=n(9),g=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(v.a)(this,Object(j.a)(t).call(this,e))).state={hasError:!1},n}return Object(O.a)(t,e),Object(b.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?c.a.createElement("p",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(c.a.Component),k=function(e){var t=Object(a.useState)([]),n=Object(m.a)(t,2),l=n[0],r=n[1],i=Object(a.useState)([]),u=Object(m.a)(i,2),s=u[0],f=u[1],d=Object(a.useState)(0),E=Object(m.a)(d,2),b=E[0],v=E[1],j=Object(a.useRef)(null);Object(a.useEffect)((function(){r(e.planets)}),[e.planets]),Object(a.useEffect)((function(){r(O())}),[e.selectedPlanet]),Object(a.useEffect)((function(){f(e.vehicles)}),[e.vehicles]),Object(a.useEffect)((function(){f(k())}),[e.selectedVehicle]),Object(a.useEffect)((function(){j.current.load(),0===e.currentSelect&&v(0)}),[e.currentSelect]);var O=function(){return e.planets.filter((function(t){return!e.selectedPlanet.slice(0,e.id).includes(t.name)}))},k=function(){return e.vehicles.map((function(t){var n=e.selectedVehicle.slice(0,e.id).filter((function(e){return e===t.name})).length;return n>0?Object.assign({},t,{total_no:t.total_no-n}):t}))};return c.a.createElement("div",{className:"group",style:{display:e.currentSelect===e.id?"block":"none"}},c.a.createElement(g,null,c.a.createElement(p,{planet:l,onInput:function(t){var n=[].concat(Object(o.a)(e.selectedPlanet.slice(0,e.id)),[t]);e.setSelectedPlanet(n),v(e.planets.filter((function(e){return e.name===t}))[0].distance)},ref:j})),c.a.createElement(g,null,c.a.createElement(h,{vehicle:s,id:e.id,onInput:function(t){var n=[].concat(Object(o.a)(e.selectedVehicle.slice(0,e.id)),[t]);e.setSelectedVehicle(n)},distance:b})))},y=(n(23),document.getElementById("modal-root")),S=function(e){function t(){return Object(E.a)(this,t),Object(v.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){return r.a.createPortal(c.a.createElement("div",{className:"modal-container"},this.props.children),y)}}]),t}(c.a.Component),N=function(e){return c.a.createElement("div",{id:"modal1",className:"modal modal-backdrop"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("span",{role:"button",onClick:function(){return e.setToggle(!1)}},"X")),c.a.createElement("div",{className:"modal-content"},e.loading&&c.a.createElement("div",{className:"loading"},c.a.createElement(d.a,{type:"bars",color:"black"})),!e.loading&&"false"===e.res.status&&c.a.createElement("p",null,"Oops! You missed falcon."),!e.loading&&"success"===e.res.status&&c.a.createElement("p",null,"Yayy!! We found falcon on ",e.res.planet_name," planet")))},w="",x={Accept:"application/json","Content-Type":"application/json"},P=function(e){w=e},C=function(){return fetch("https://findfalcone.herokuapp.com/token",{method:"POST",headers:{Accept:"application/json"}}).then((function(e){return e.json()}))},F=function(e){var t=Object(a.useState)([]),n=Object(m.a)(t,2),l=n[0],r=n[1],i=Object(a.useState)([]),f=Object(m.a)(i,2),h=f[0],p=f[1],E=Object(a.useState)([]),b=Object(m.a)(E,2),v=b[0],j=b[1],O=Object(a.useState)([]),y=Object(m.a)(O,2),P=y[0],C=y[1],F=Object(a.useState)({}),T=Object(m.a)(F,2),_=T[0],A=T[1],I=Object(a.useState)(0),V=Object(m.a)(I,2),B=V[0],J=V[1],R=Object(a.useState)(!0),D=Object(m.a)(R,2),H=D[0],K=D[1],L=Object(a.useState)(!0),M=Object(m.a)(L,2),W=M[0],Y=M[1],Q=Object(a.useState)(!1),X=Object(m.a)(Q,2),$=X[0],q=X[1];Object(a.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([fetch("https://findfalcone.herokuapp.com/planets").then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return console.log(e)})),fetch("https://findfalcone.herokuapp.com/vehicles").then((function(e){return e.json()})).then((function(e){return p(e)})).catch((function(e){return console.log(e)}))]);case 2:K(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var z=Object(a.useMemo)((function(){return function(){for(var e=0,t=function(t){if(v[t]&&P[t]){var n=l.filter((function(e){return e.name===v[t]}))[0].distance,a=h.filter((function(e){return e.name===P[t]}))[0].speed;e+=n/a}},n=0;n<=B;n++)t(n);return e}()}),[v,P]),G=function(){q(!0),function(e,t){return fetch("https://findfalcone.herokuapp.com/find",{method:"POST",headers:x,body:JSON.stringify({token:w,planet_names:e,vehicle_names:t})}).then((function(e){return e.json()}))}(v,P).then((function(e){A(e),Y(!1)})).catch((function(e){return console.log(e)}))};return c.a.createElement("main",null,c.a.createElement("div",{className:"container"},c.a.createElement("h2",null,"Find Falcon"),c.a.createElement(g,null,H?c.a.createElement("div",{className:"loading"},c.a.createElement(d.a,{type:"bars",color:"black"})):Object(o.a)(Array(4).keys()).map((function(e){return c.a.createElement(k,{key:e,id:e,planets:l,vehicles:h,selectedPlanet:v,setSelectedPlanet:j,selectedVehicle:P,setSelectedVehicle:C,currentSelect:B})}))),c.a.createElement("div",null,c.a.createElement("p",null,"Time Taken: ",z),c.a.createElement("div",{className:"container-footer"},c.a.createElement("button",{onClick:function(){return j([]),C([]),void J(0)}},"Reset"),c.a.createElement("button",{onClick:function(){return J(B+1)},disabled:P.length!==B+1||B+1===4},"Next"),c.a.createElement("button",{onClick:function(){return G()},disabled:4!==P.length},"Find Falcon")),$&&c.a.createElement(S,null,c.a.createElement(N,{loading:W,res:_,setToggle:q})))))},T=(n(24),function(e){return c.a.createElement("div",{id:"footer"},c.a.createElement("p",null,"Made with ReactJS, Flexbox"))}),_=(n(25),function(e){return c.a.createElement("div",{id:"modal1",className:"modal modal-backdrop"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("span",{role:"button",onClick:function(){return e.setToggle(!1)}},"X")),c.a.createElement("div",{className:"modal-content"},c.a.createElement("h3",null,"How to play"),c.a.createElement("div",{className:"content"},c.a.createElement("p",null,"In the planet of Lengaburu\u2026in the distant distant galaxy of Tara B. After the recent war with neighbouring planet Falicornia, King Shan has exiled the Queen of Falicornia for 15 years."),c.a.createElement("p",null,"Queen Al Falcone is now in hiding. But if King Shan can \ufb01nd her before the years are up, she will be exiled for another 15 years\u2026."),c.a.createElement("p",null,"King Shan has received intelligence that Al Falcone is in hiding in one of these 6 planets - DonLon, Enchai, Jebing, Sapir, Lerbin & Pingasor. However he has limited resources at his disposal & can send his army to only 4 of these planets. Every vehicle can travel a maximum distance."),c.a.createElement("p",null,"You have to help King Shan \ufb01nd Al Falcone."))))}),A=function(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),l=n[0],r=n[1];return c.a.createElement("div",{id:"header"},c.a.createElement("div",{className:"links"},c.a.createElement("div",{className:"link",onClick:function(){return r(!0)}},"How to Play")),l&&c.a.createElement(S,null,c.a.createElement(_,{setToggle:r})))};var I=function(){return Object(a.useEffect)((function(){C().then((function(e){P(e.token)})).catch((function(e){return console.log(e)}))}),[]),c.a.createElement("div",{className:"App"},c.a.createElement(g,null,c.a.createElement(A,null)),c.a.createElement(g,null,c.a.createElement(F,null)),c.a.createElement(g,null,c.a.createElement(T,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[13,1,2]]]);
//# sourceMappingURL=main.9df4ebae.chunk.js.map